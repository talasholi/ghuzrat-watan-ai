<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ØµÙ…Ù‘Ù…/ÙŠ Ø«ÙˆØ¨Ùƒ Ø¨Ø§Ù„ØªØ·Ø±ÙŠØ²</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* ====== RESET Ø¨Ø³ÙŠØ· ====== */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #ffe6ff 0, #f7f2ff 35%, #fdfbff 60%, #fdf7ff 100%);
      color: #1a1333;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }

    .page-wrapper {
      width: 100%;
      max-width: 1100px;
      background: #ffffff;
      border-radius: 28px;
      box-shadow:
        0 18px 45px rgba(93, 44, 155, 0.15),
        0 0 0 1px rgba(255, 255, 255, 0.6);
      padding: 32px 26px 30px;
      position: relative;
      overflow: hidden;
    }

    /* Ø®Ù„ÙÙŠØ© Ø²Ø®Ø±ÙÙŠØ© Ø®ÙÙŠÙØ© */
    .page-wrapper::before {
      content: "";
      position: absolute;
      inset-inline-start: -120px;
      inset-block-start: -120px;
      width: 260px;
      height: 260px;
      background: radial-gradient(circle, #ff9ed8 0, transparent 60%);
      opacity: 0.25;
      pointer-events: none;
      z-index: -1;
    }

    .page-wrapper::after {
      content: "";
      position: absolute;
      inset-inline-end: -80px;
      inset-block-end: -80px;
      width: 220px;
      height: 220px;
      background: radial-gradient(circle, #c79bff 0, transparent 60%);
      opacity: 0.22;
      pointer-events: none;
      z-index: -1;
    }

    header {
      margin-bottom: 24px;
      text-align: center;
    }

    .title-row {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px;
      border-radius: 999px;
      background: linear-gradient(135deg, #ffe3ff, #f4e6ff);
      border: 1px solid rgba(151, 94, 255, 0.2);
      font-size: 13px;
      color: #7a529f;
    }

    .sparkle {
      font-size: 17px;
    }

    h1 {
      font-size: 26px;
      margin-top: 10px;
      margin-bottom: 6px;
      color: #2a174b;
      letter-spacing: 0.02em;
    }

    .subtitle {
      font-size: 14px;
      color: #6b5a8b;
      max-width: 680px;
      margin: 0 auto;
      line-height: 1.7;
    }

    .content-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr);
      gap: 24px;
      margin-top: 26px;
    }

    /* ÙƒØ±Øª Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
    .card {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      border: 1px solid rgba(210, 188, 255, 0.8);
      padding: 18px 18px 16px;
      box-shadow: 0 8px 24px rgba(132, 95, 190, 0.08);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      gap: 12px;
    }

    .card-header-title {
      font-weight: 600;
      font-size: 15px;
      color: #4b2f79;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .card-header-title span.icon {
      font-size: 17px;
    }

    .char-counter {
      font-size: 12px;
      color: #8a7aac;
      white-space: nowrap;
    }

    textarea {
      width: 100%;
      border-radius: 16px;
      border: 1px solid rgba(184, 159, 234, 0.9);
      padding: 14px 14px 12px;
      resize: vertical;
      min-height: 130px;
      max-height: 260px;
      font-size: 14px;
      line-height: 1.7;
      outline: none;
      background: #fbf8ff;
      color: #2c213f;
      transition: border 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }

    textarea:focus {
      border-color: #9b5bff;
      background: #fdfbff;
      box-shadow: 0 0 0 1px rgba(145, 92, 255, 0.1),
                  0 10px 28px rgba(122, 76, 210, 0.12);
    }

    .actions-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-top: 12px;
    }

    .hint {
      font-size: 12px;
      color: #a08fca;
      max-width: 380px;
      line-height: 1.7;
    }

    button#generateBtn {
      border: none;
      border-radius: 999px;
      padding: 10px 26px;
      background-image: linear-gradient(135deg, #ff5fb3, #ff7b7b, #ffb34f);
      color: #fff;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      box-shadow: 0 10px 25px rgba(255, 104, 153, 0.35);
      display: inline-flex;
      align-items: center;
      gap: 7px;
      transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
      min-width: 120px;
      justify-content: center;
    }

    button#generateBtn:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 14px 32px rgba(255, 104, 153, 0.4);
      filter: brightness(1.03);
    }

    button#generateBtn:active:not(:disabled) {
      transform: translateY(1px) scale(0.99);
      box-shadow: 0 7px 18px rgba(255, 104, 153, 0.35);
    }

    button#generateBtn:disabled {
      opacity: 0.7;
      cursor: default;
      box-shadow: none;
    }

    .btn-spinner {
      width: 14px;
      height: 14px;
      border-radius: 999px;
      border: 2px solid rgba(255, 255, 255, 0.6);
      border-inline-start-color: #fff;
      animation: spin 0.7s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* Ù‚Ø³Ù… Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
    .results-wrapper {
      margin-top: 24px;
    }

    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
    }

    .results-title {
      font-weight: 600;
      font-size: 15px;
      color: #412664;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .results-title .dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: linear-gradient(135deg, #ff8bb5, #ffb34f);
      box-shadow: 0 0 0 4px rgba(255, 152, 197, 0.25);
    }

    .status-text {
      font-size: 12px;
      color: #9a8ac0;
      min-height: 18px;
      text-align: inline-start;
    }

    .status-text.error {
      color: #c44567;
    }

    .status-text.success {
      color: #189b6f;
    }

    .image-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 16px;
      margin-top: 10px;
    }

    .image-card {
      background: #fbfaff;
      border-radius: 18px;
      border: 1px solid rgba(210, 188, 255, 0.9);
      overflow: hidden;
      box-shadow: 0 10px 28px rgba(121, 85, 184, 0.12);
      display: flex;
      flex-direction: column;
      min-height: 220px;
      position: relative;
    }

    .image-inner {
      position: relative;
      background: radial-gradient(circle at top, #f7ecff, #f9f1ff 55%, #f7f1ff 100%);
      padding: 10px;
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .image-inner img {
      max-width: 100%;
      max-height: 330px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(77, 47, 120, 0.28);
      object-fit: cover;
      background: #eee;
    }

    .image-footer {
      padding: 10px 12px 9px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      border-top: 1px dashed rgba(186, 155, 238, 0.6);
      background: rgba(252, 249, 255, 0.9);
    }

    .image-caption {
      font-size: 12px;
      color: #6b5b91;
    }

    /* Ø²Ø± Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„ØµÙØ­Ø© ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ */
    .contact-btn {
      border-radius: 999px;
      border: none;
      font-size: 11px;
      padding: 6px 12px;
      cursor: pointer;
      background: linear-gradient(135deg, #8a6bff, #d58bff);
      color: #fff;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      box-shadow: 0 5px 15px rgba(133, 101, 220, 0.35);
      transition: transform 0.12s ease, box-shadow 0.12s ease;
      white-space: nowrap;
      text-decoration: none;
    }

    .contact-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 7px 20px rgba(133, 101, 220, 0.42);
    }

    .contact-btn:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 5px 12px rgba(133, 101, 220, 0.35);
    }

    .contact-btn span.icon {
      font-size: 13px;
    }

    .empty-state {
      border-radius: 18px;
      border: 1px dashed rgba(186, 160, 235, 0.9);
      padding: 18px 16px;
      background: rgba(249, 245, 255, 0.8);
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 13px;
      color: #7e6da7;
      margin-top: 10px;
    }

    .empty-state .badge {
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(141, 102, 255, 0.08);
      border: 1px solid rgba(141, 102, 255, 0.2);
      color: #6c4cc1;
    }

    /* Ø¨ÙˆÙƒØ³ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„ØµÙˆØ± */
    .after-note {
      margin-top: 14px;
      padding: 14px 16px;
      border-radius: 18px;
      background: rgba(246, 240, 255, 0.85);
      border: 1px dashed rgba(173, 142, 230, 0.9);
      font-size: 13px;
      color: #6a5b95;
      line-height: 1.8;
    }

    .after-note b {
      color: #4a337e;
    }

    /* Ø³ÙƒÙŠÙ„ÙŠØªÙˆÙ† ØªØ­Ù…ÙŠÙ„ */
    .skeleton-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 16px;
      margin-top: 10px;
    }

    .skeleton-card {
      border-radius: 18px;
      border: 1px solid rgba(210, 188, 255, 0.8);
      padding: 12px;
      background: rgba(250, 246, 255, 0.95);
      overflow: hidden;
    }

    .skeleton-box {
      width: 100%;
      height: 230px;
      border-radius: 14px;
      background: linear-gradient(90deg, #f0e8ff 0, #f7f2ff 40%, #f0e8ff 100%);
      background-size: 200% 100%;
      animation: shimmer 1.4s infinite;
    }

    .skeleton-footer {
      margin-top: 10px;
      height: 18px;
      width: 60%;
      border-radius: 999px;
      background: linear-gradient(90deg, #ede4ff 0, #f7f2ff 40%, #ede4ff 100%);
      background-size: 200% 100%;
      animation: shimmer 1.4s infinite;
    }

    @keyframes shimmer {
      0% { background-position: 180% 0; }
      100% { background-position: -80% 0; }
    }

    /* Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 768px) {
      .page-wrapper {
        padding: 22px 16px 20px;
        border-radius: 22px;
      }
      h1 {
        font-size: 22px;
      }
      .subtitle {
        font-size: 13px;
      }
      .image-grid,
      .skeleton-grid {
        grid-template-columns: minmax(0, 1fr);
      }
      .image-inner img {
        max-height: 260px;
      }
    }
  </style>
</head>
<body>
  <main class="page-wrapper">
    <header>
      <div class="title-row">
        <span class="sparkle">âœ¨</span>
        <span>Ù†Ù…ÙˆØ°Ø¬ ØªØ¬Ø±ÙŠØ¨ÙŠ â€“ ØºÙØ±Ø²Ø© ÙˆØ·Ù† AI</span>
      </div>
      <h1>ØµÙ…Ù‘Ù…/ÙŠ Ø«ÙˆØ¨Ùƒ <span style="color:#b54ea9;">Ø¨Ø§Ù„ØªØ·Ø±ÙŠØ²</span></h1>
      <p class="subtitle">
        Ø§ÙƒØªØ¨/ÙŠ ÙˆØµÙ€ÙÙ‹Ø§ Ù„Ù„Ø«ÙˆØ¨ Ø§Ù„Ø°ÙŠ ØªØªØ®ÙŠÙ‘Ù„Ù‡ (Ø§Ù„Ù„Ù‘ÙˆÙ†ØŒ Ù†ÙˆØ¹ Ø§Ù„ØªØ·Ø±ÙŠØ²ØŒ Ø·ÙˆÙ„ Ø§Ù„Ø£ÙƒÙ…Ø§Ù…ØŒ ØªÙØ§ØµÙŠÙ„ Ù…Ù…ÙŠÙ‘Ø²Ø©...) Ø«Ù… Ø§Ø¶ØºØ·/ÙŠ
        <b>Generate</b> Ù„ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ ØµÙˆØ±ØªÙŠÙ† ØªØ®ÙŠÙ‘Ù„ÙŠØªÙŠÙ† Ù„Ù„Ø«ÙˆØ¨ âœ¨
      </p>
    </header>

    <section class="content-grid">
      <!-- ÙƒØ±Øª Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ -->
      <div class="card">
        <div class="card-header">
          <div class="card-header-title">
            <span class="icon">ğŸ“</span>
            <span>ÙˆØµÙ Ø§Ù„Ø«ÙˆØ¨</span>
          </div>
          <div class="char-counter" id="charCounter">0 / 400 Ø­Ø±Ù</div>
        </div>

        <textarea
          id="descriptionInput"
          maxlength="400"
          placeholder="Ù…Ø«Ø§Ù„: Ø«ÙˆØ¨ ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø± ÙˆØ§Ù„Ø£Ø³ÙˆØ¯ØŒ Ø¨Ø£ÙƒÙ…Ø§Ù… Ø¹Ø±ÙŠØ¶Ø©ØŒ ØªØ·Ø±ÙŠØ² ÙƒØ«ÙŠÙ Ø­ÙˆÙ„ Ø§Ù„ØµØ¯Ø± Ù…Ù†Ù‚ÙˆØ´ Ø¨Ø§Ø³Ù… Ø§Ù„Ù‚Ø¯Ø³..."
        ></textarea>

        <div class="actions-row">
          <p class="hint">
            ÙƒÙ„Ù‘Ù…Ø§ ÙƒØ§Ù† Ø§Ù„ÙˆØµÙ Ø£Ø¯Ù‚Ù‘ (Ø£Ù„ÙˆØ§Ù†ØŒ Ø·ÙˆÙ„ Ø§Ù„Ø«ÙˆØ¨ØŒ Ù†ÙˆØ¹ Ø§Ù„ØªØ·Ø±ÙŠØ²ØŒ ØªÙØ§ØµÙŠÙ„ Ø®Ø§ØµØ©)ØŒ ÙƒØ§Ù†Øª Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø£Ù‚Ø±Ø¨ Ù„Ù…Ø§ ØªØªØ®ÙŠÙ‘Ù„Ù‡ âœ¨
          </p>

          <button id="generateBtn">
            <span>Generate</span>
          </button>
        </div>
      </div>

      <!-- ÙƒØ±Øª Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
      <div class="results-wrapper">
        <div class="results-header">
          <div class="results-title">
            <span class="dot"></span>
            <span>Ø§Ù„Ù†ØªÙŠØ¬Ø©</span>
          </div>
          <p class="status-text" id="statusText">Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±ØªÙŠÙ† Ù‡Ù†Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡.</p>
        </div>

        <div id="resultsArea">
          <div class="empty-state">
            <span class="badge">ğŸ’¡ Ù†ØµÙŠØ­Ø©</span>
            <span>
              Ø§Ø¨Ø¯Ø£/ÙŠ Ø¨ÙˆØµÙ Ø¨Ø³ÙŠØ·ØŒ Ø«Ù… Ø¬Ø±Ù‘Ø¨/ÙŠ ØªØºÙŠÙŠØ±Ø§Øª ØµØºÙŠØ±Ø© (Ù…Ø«Ù„Ø§Ù‹ ØºÙŠÙ‘Ø±/ÙŠ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø£Ùˆ Ù†ÙˆØ¹ Ø§Ù„ØªØ·Ø±ÙŠØ²) Ù„ØªØ´Ø§Ù‡Ø¯/ÙŠ Ø£ÙƒØ«Ø± Ù…Ù† Ø§Ù‚ØªØ±Ø§Ø­ Ù„Ù„Ø«ÙˆØ¨.
            </span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const descriptionInput = document.getElementById("descriptionInput");
    const charCounter = document.getElementById("charCounter");
    const generateBtn = document.getElementById("generateBtn");
    const statusText = document.getElementById("statusText");
    const resultsArea = document.getElementById("resultsArea");

    const MAX_LEN = 400;
    const CONTACT_BASE = "https://ghuzrat-watan.company.site/new-page-4";

    // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø­Ø±Ù
    function updateCharCounter() {
      const len = descriptionInput.value.length;
      charCounter.textContent = len + " / " + MAX_LEN + " Ø­Ø±Ù";
    }
    updateCharCounter();
    descriptionInput.addEventListener("input", updateCharCounter);

    // ØªÙˆÙ„ÙŠØ¯ Ù‡ÙŠÙƒÙ„ Ø³ÙƒÙŠÙ„ÙŠØªÙˆÙ† Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±
    function showSkeleton() {
      resultsArea.innerHTML = `
        <div class="skeleton-grid">
          <div class="skeleton-card">
            <div class="skeleton-box"></div>
            <div class="skeleton-footer"></div>
          </div>
          <div class="skeleton-card">
            <div class="skeleton-box"></div>
            <div class="skeleton-footer"></div>
          </div>
        </div>
      `;
    }

    function setStatus(message, type = "") {
      statusText.textContent = message;
      statusText.classList.remove("error", "success");
      if (type) statusText.classList.add(type);
    }

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© ØµÙˆØ±Ø© + Ø²Ø± Ø·Ù„Ø¨ Ø§Ù„ØªØµÙ…ÙŠÙ…
    function createImageCard(url, index) {
      const card = document.createElement("div");
      card.className = "image-card";

      const inner = document.createElement("div");
      inner.className = "image-inner";

      const img = document.createElement("img");
      img.src = url;
      img.alt = "ØªØµÙ…ÙŠÙ… Ø«ÙˆØ¨ Ø¨Ø§Ù„ØªØ·Ø±ÙŠØ² â€“ " + (index + 1);

      inner.appendChild(img);

      const footer = document.createElement("div");
      footer.className = "image-footer";

      const caption = document.createElement("div");
      caption.className = "image-caption";
      caption.textContent = "ØªØµÙ…ÙŠÙ… Ø«ÙˆØ¨ Ø¨Ø§Ù„ØªØ·Ø±ÙŠØ² #" + (index + 1);

      // Ø¹Ù†ÙˆØ§Ù† ÙÙŠÙ‡ Ø±Ù‚Ù… Ø§Ù„ØªØµÙ…ÙŠÙ… ÙŠØ±ÙˆØ­ Ù…Ø¹ Ø§Ù„Ø±Ø§Ø¨Ø·
      const designParam = "design=" + encodeURIComponent("thobe-" + (index + 1));
      const contactUrl = CONTACT_BASE + "?" + designParam;

      const contactLink = document.createElement("a");
      contactLink.className = "contact-btn";
      contactLink.href = contactUrl;
      // _top Ø¹Ø´Ø§Ù† ÙŠØ·Ù„Ø¹ Ù…Ù† iframe ÙˆÙŠÙØªØ­ ØµÙØ­Ø© ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ ÙÙŠ ÙƒÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹
      contactLink.target = "_top";
      contactLink.rel = "noopener";
      contactLink.innerHTML = '<span class="icon">ğŸ“©</span><span>Ø·Ù„Ø¨/ÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ…ÙŠÙ…</span>';

      footer.appendChild(caption);
      footer.appendChild(contactLink);

      card.appendChild(inner);
      card.appendChild(footer);

      return card;
    }

    async function callGenerateAPI(description) {
      const response = await fetch("/api/gw/generate-dress", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ description }),
      });

      if (!response.ok) {
        throw new Error("HTTP " + response.status);
      }

      const data = await response.json();
      const imageUrl = data.imageUrl || data.image_url;

      if (!data.ok || !imageUrl) {
        throw new Error(data.error || "Ù„Ù… ÙŠØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©");
      }

      return imageUrl;
    }

    async function handleGenerate() {
      const description = descriptionInput.value.trim();

      if (!description) {
        setStatus("Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© ÙˆØµÙ Ù„Ù„Ø«ÙˆØ¨ Ø£ÙˆÙ„Ø§Ù‹.", "error");
        descriptionInput.focus();
        return;
      }

      try {
        generateBtn.disabled = true;
        generateBtn.innerHTML = '<div class="btn-spinner"></div><span>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡...</span>';
        setStatus("Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±ØªÙŠÙ† Ù„Ù„Ø«ÙˆØ¨ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„Ù‹Ø§...", "");

        showSkeleton();

        // Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±ØªÙŠÙ† (Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ù€ API Ù…Ø±ØªÙŠÙ†)
        const [url1, url2] = await Promise.all([
          callGenerateAPI(description),
          callGenerateAPI(description + " , variation 2"),
        ]);

        const grid = document.createElement("div");
        grid.className = "image-grid";
        grid.appendChild(createImageCard(url1, 0));
        grid.appendChild(createImageCard(url2, 1));

        resultsArea.innerHTML = "";
        resultsArea.appendChild(grid);

        // Ø¨ÙˆÙƒØ³ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø£Ø³ÙÙ„ Ø§Ù„ØµÙˆØ±
        const note = document.createElement("div");
        note.className = "after-note";
        note.innerHTML = `
          <b>Ù…Ø§ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©ØŸ</b><br />
          1. Ø§Ø®ØªØ±/ÙŠ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø°ÙŠ Ø£Ø¹Ø¬Ø¨Ùƒ Ø£ÙƒØ«Ø± (ÙŠÙ…ÙŠÙ† Ø£Ùˆ ÙŠØ³Ø§Ø±).<br />
          2. Ø§Ø¶ØºØ·/ÙŠ Ø¹Ù„Ù‰ Ø²Ø± <b>Ø·Ù„Ø¨/ÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ…ÙŠÙ…</b> Ø£Ø³ÙÙ„ Ø§Ù„ØµÙˆØ±Ø©ØŒ ÙˆØ³ÙŠØªÙ… ÙØªØ­ ØµÙØ­Ø© "ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§".<br />
          3. ÙÙŠ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙˆØ§ØµÙ„ØŒ Ø§ÙƒØªØ¨/ÙŠ Ø±Ù‚Ù… Ø§Ù„ØªØµÙ…ÙŠÙ… (Ù…Ø«Ù„Ø§Ù‹: ØªØµÙ…ÙŠÙ… Ø«ÙˆØ¨ Ø¨Ø§Ù„ØªØ·Ø±ÙŠØ² #1)
             ÙˆØ£ÙŠ ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø£Ùˆ Ù…Ù‚Ø§Ø³Ø§Øª Ø®Ø§ØµØ© ØªØ±ÙŠØ¯/ÙŠÙ†Ù‡Ø§.
        `;
        resultsArea.appendChild(note);

        setStatus("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙˆØ±ØªÙŠÙ† Ø¨Ù†Ø¬Ø§Ø­! Ø¥Ø°Ø§ Ø£Ø¹Ø¬Ø¨Ùƒ Ø£Ø­Ø¯ Ø§Ù„ØªØµØ§Ù…ÙŠÙ… ÙŠÙ…ÙƒÙ†Ùƒ Ø·Ù„Ø¨Ù‡ Ø¹Ø¨Ø± Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙˆØ§ØµÙ„.", "success");
      } catch (err) {
        console.error(err);
        resultsArea.innerHTML = `
          <div class="empty-state">
            <span class="badge">âš ï¸ Ø®Ø·Ø£</span>
            <span>
              ÙØ´Ù„ ÙÙŠ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø£Ùˆ ÙÙŠ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„ØµÙˆØ±. Ø¬Ø±Ù‘Ø¨/ÙŠ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø¨Ø¹Ø¯ Ù‚Ù„ÙŠÙ„ØŒ
              Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù…/ÙŠ ÙˆØµÙÙ‹Ø§ Ø£Ù‚ØµØ± Ø£Ùˆ Ù…Ø®ØªÙ„ÙÙ‹Ø§.
            </span>
          </div>
        `;
        setStatus("ÙØ´Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙˆØ±ØŒ Ø¬Ø±Ù‘Ø¨/ÙŠ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ù‹Ø§.", "error");
      } finally {
        generateBtn.disabled = false;
        generateBtn.innerHTML = "<span>Generate</span>";
      }
    }

    generateBtn.addEventListener("click", handleGenerate);

    // Ø§Ø®ØªØµØ§Ø±: Ctrl+Enter Ù…Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù€ textarea
    descriptionInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter" && (e.ctrlKey || e.metaKey)) {
        e.preventDefault();
        handleGenerate();
      }
    });
  </script>
</body>
</html>
